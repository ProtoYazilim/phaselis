<article class="shortcode_text">
<div class="shortcode_title">
<a class="btn" href="#">Component</a>
<h1>Popup</h1>
<p>The <code>popup</code> component is a Phaselis React-Native component used for various UI functionalities. This documentation covers its usage, props, and implementation details.</p>
<h4 class="c_head load-order-2">Popup</h4>
<p><strong>File:</strong> <code>Popup.tsx</code></p>
<p><strong>Props:</strong><ul><li>PopupProps - isOpen?: boolean</li><li>PopupProps - duration?: number</li><li>PopupProps - onClose: any</li><li>PopupProps - fullScreen?: boolean</li><li>PopupProps - contextValue?: any</li><li>PopupProps - style?: any</li><li>PopupProps - leftIcon?: SlotIconName</li><li>PopupProps - rightIcon?: SlotIconName</li><li>PopupProps - LeftSlot?: any</li><li>PopupProps - title?: string</li></ul></p>
<pre><code class="language-typescript" data-lang="typescript">import React, { FC } from &quot;react&quot;;
import { TouchableOpacity, View, Text } from &quot;react-native&quot;;
import Animated, {
  useSharedValue,
  useAnimatedStyle,
  useDerivedValue,
  withDelay,
  withTiming,
} from &quot;react-native-reanimated&quot;;
import stylesheet from &quot;./assets/styles&quot;;
import { ConsumerHOC } from &quot;../provider&quot;;
import Slot from &quot;../slot&quot;;
import { SlotIconName } from &quot;../types&quot;;
import useCombinedStyle from &quot;@/hooks/useCombinedStyle&quot;;

interface PopupProps {
  isOpen?: boolean;
  duration?: number;
  onClose: any;
  fullScreen?: boolean;
  contextValue?: any;
  style?: any;
  leftIcon?: SlotIconName;
  rightIcon?: SlotIconName;
  LeftSlot?: any;
  title?: string;
}

const Popup: FC&lt;PopupProps&gt; = ({
  isOpen,
  duration = 500,
  children,
  onClose,
  fullScreen,
  contextValue,
  style,
  leftIcon,
  LeftSlot,
  title,
  ...extraProps
}: any) =&gt; {
  const height = useSharedValue(0);
  const progress = useDerivedValue(() =&gt;
    withTiming(isOpen.value ? 0 : 1, { duration }),
  );

  const sheetStyle = useAnimatedStyle(() =&gt; ({
    transform: [{ translateY: progress.value * height.value }],
  }));

  const backdropStyle = useAnimatedStyle(() =&gt; ({
    opacity: 1 - progress.value,
    zIndex: isOpen.value
      ? 1
      : withDelay(duration, withTiming(-1, { duration: 0 })),
  }));

  const handleClose = () =&gt; {
    if (isOpen.value) {
      onClose();
    }
  };

  const { getCombinedStyle } = useCombinedStyle(
    stylesheet,
    style,
    contextValue?.theme?.popup,
    { ...extraProps },
  );

  return (
    &lt;&gt;
      &lt;Animated.View style={[...getCombinedStyle(&quot;backDrop&quot;), backdropStyle]}&gt;
        &lt;TouchableOpacity style={{ flex: 1 }} onPress={handleClose} /&gt;
      &lt;/Animated.View&gt;
      &lt;Animated.View
        onLayout={(e) =&gt; {
          height.value = e.nativeEvent.layout.height;
        }}
        style={[
          ...getCombinedStyle(&quot;container&quot;),
          sheetStyle,
          {
            height: fullScreen ? &quot;100%&quot; : &quot;auto&quot;,
            flexDirection: &quot;row&quot;,
            alignItems: &quot;flex-start&quot;,
            justifyContent: &quot;flex-start&quot;,
          },
        ]}
      &gt;
        &lt;View style={getCombinedStyle(&quot;element&quot;)}&gt;
          {title &amp;&amp; (
            &lt;View style={getCombinedStyle(&quot;header&quot;)}&gt;
              &lt;Slot
                icon={leftIcon}
                size=&quot;lg&quot;
                style={getCombinedStyle(&quot;leftSlot&quot;)}
              &gt;
                {LeftSlot &amp;&amp; &lt;LeftSlot /&gt;}
              &lt;/Slot&gt;
              &lt;Text style={getCombinedStyle(&quot;title&quot;)}&gt;{title}&lt;/Text&gt;
            &lt;/View&gt;
          )}

          {children}
        &lt;/View&gt;
        &lt;Slot
          icon=&quot;X&quot;
          size=&quot;md&quot;
          style={getCombinedStyle(&quot;closeIcon&quot;)}
          strokeWidth={4} // todo strokewidth not accurete with figma
          onClick={handleClose}
        /&gt;
      &lt;/Animated.View&gt;
    &lt;/&gt;
  );
};

export default ConsumerHOC&lt;PopupProps, PopupExtraProps&gt;(Popup);
</code></pre>
<hr />
<h4 class="c_head load-order-2">styles</h4>
<p><strong>File:</strong> <code>styles.tsx</code></p>
<p>No props found.</p>
<pre><code class="language-typescript" data-lang="typescript">import { createStyleSheet } from &quot;react-native-unistyles&quot;;

const stylesheet = createStyleSheet({
  //@ts-ignore
  container: {
    width: &quot;100%&quot;,
    position: &quot;absolute&quot;,
    bottom: 0,
    height: &quot;100%&quot;,
    zIndex: 2,
    alignItems: &quot;center&quot;,
    justifyContent: &quot;center&quot;,
    backgroundColor: &quot;white&quot;,
    variants: {
      size: {
        xs: {},
        sm: {},
        md: {},
        lg: {},
        xl: {},
        xxl: {},
      },
    },
  },
  header: {
    flexDirection: &quot;row&quot;,
    alignItems: &quot;center&quot;,
  },
  element: {
    flex: 1,
    variants: {
      primary: {},
      secondary: {},
      tertiary: {},
      outline: {},
      disabled: {},
      loading: {},
      size: {},
    },
  },
  title: {
    variants: {
      primary: {},
      secondary: {},
      tertiary: {},
      outline: {},
      disabled: {},
      loading: {},
    },
  },
  leftSlot: {
    variants: {
      primary: {},
      secondary: {},
      tertiary: {},
      outline: {},
      disabled: {},
      loading: {},
    },
  },
  closeIcon: {
    variants: {
      primary: {},
      secondary: {},
      tertiary: {},
      outline: {},
      disabled: {},
      loading: {},
    },
  },
  backDrop: {
    backgroundColor: &quot;rgba(0, 0, 0, 0.3)&quot;,
    position: &quot;absolute&quot;,
    left: 0,
    right: 0,
    top: 0,
    bottom: 0,
  },
});

export default stylesheet;
</code></pre>
<hr />
<h4 class="c_head load-order-2">index</h4>
<p><strong>File:</strong> <code>index.tsx</code></p>
<p>No props found.</p>
<pre><code class="language-typescript" data-lang="typescript">import Popup from &quot;./Popup&quot;;

export default Popup;
</code></pre>
<hr />
</div>
</article>
