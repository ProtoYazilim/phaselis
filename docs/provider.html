<article class="shortcode_text">
<div class="shortcode_title">
<a class="btn" href="#">Component</a>
<h1>Provider</h1>
<p>The <code>provider</code> component is a Phaselis React-Native component used for various UI functionalities. This documentation covers its usage, props, and implementation details.</p>
<h4 class="c_head load-order-2">index</h4>
<p><strong>File:</strong> <code>index.tsx</code></p>
<p>No props found.</p>
<pre><code class="language-typescript" data-lang="typescript">import React, { FC } from &quot;react&quot;;
import Context from &quot;./lib/context&quot;;
import ConsumerHOC from &quot;./lib/hoc&quot;;
import { PhaselisProviderProps, Breakpoints } from &quot;./types&quot;;

const defaultBreakpoints: Breakpoints = {
  xl: 1440,
  lg: 1024,
  md: 768,
  xs: 0,
};

const PhaselisProvider = &lt;T,&gt;({
  children,
  breakpoints = defaultBreakpoints,
  theme = {} as T, // theme default olarak generic tipinde
}: PhaselisProviderProps&lt;T&gt;) =&gt; {
  return (
    &lt;Context.Provider
      value={{
        theme: theme,
        breakpoints: breakpoints,
      }}
    &gt;
      {children}
    &lt;/Context.Provider&gt;
  );
};

export { Context as PhaselisContext, ConsumerHOC };
export default PhaselisProvider;
</code></pre>
<hr />
<h4 class="c_head load-order-2">info</h4>
<p><strong>File:</strong> <code>info.json</code></p>
<p>No props found.</p>
<pre><code class="language-typescript" data-lang="typescript">{
    &quot;name&quot;: &quot;@protonative/provider&quot;,
    &quot;version&quot;: &quot;0.0.2&quot;,
    &quot;description&quot;: &quot;proto Native Provider Component&quot;,
    &quot;keywords&quot;: &quot;@protonative,proto,component,provider,layout&quot;
}</code></pre>
<hr />
<h4 class="c_head load-order-2">index</h4>
<p><strong>File:</strong> <code>index.ts</code></p>
<p>No props found.</p>
<pre><code class="language-typescript" data-lang="typescript">import { createContext } from &quot;react&quot;;

type ThemeContextType&lt;T&gt; = {
  theme: T;
  breakpoints: any;
};

// Context&#039;i generic yapıyoruz
const Context = createContext&lt;ThemeContextType&lt;any&gt;&gt;({
  theme: {} as any,
  breakpoints: {},
});

Context.displayName = &quot;PhaselisContext&quot;;

export default Context;
</code></pre>
<hr />
<h4 class="c_head load-order-2">index</h4>
<p><strong>File:</strong> <code>index.tsx</code></p>
<p>No props found.</p>
<pre><code class="language-typescript" data-lang="typescript">import React from &quot;react&quot;;
import Context from &quot;../context&quot;;
import hoistNonReactStatics from &quot;hoist-non-react-statics&quot;;

// Define a type that gives precedence to P over T for overlapping attributes
type CombinedProps&lt;P, T&gt; = Omit&lt;T, keyof P&gt; &amp; P;

const PhaselisHOC = &lt;P extends React.PropsWithRef&lt;any&gt;, T = {}&gt;(
  WrappedComponent: React.ComponentType&lt;CombinedProps&lt;P, T&gt;&gt;,
): React.ForwardRefExoticComponent&lt;
  React.PropsWithoutRef&lt;CombinedProps&lt;P, T&gt;&gt; &amp; React.RefAttributes&lt;any&gt;
&gt; =&gt; {
  const ConsumedComponent = React.forwardRef&lt;any, P &amp; T&gt;((props, ref) =&gt; {
    const contextValue = React.useContext(Context);
    return (
      // @ts-ignore
      &lt;WrappedComponent {...props} contextValue={contextValue} ref={ref} /&gt;
    );
  });
  ConsumedComponent.displayName = `${WrappedComponent.displayName || WrappedComponent.name}`;
  const merged = hoistNonReactStatics(ConsumedComponent, WrappedComponent);
  return merged as React.ForwardRefExoticComponent&lt;
    React.PropsWithoutRef&lt;CombinedProps&lt;P, T&gt;&gt; &amp; React.RefAttributes&lt;any&gt;
  &gt;;
};

export default PhaselisHOC;
</code></pre>
<hr />
<h4 class="c_head load-order-2">index</h4>
<p><strong>File:</strong> <code>index.ts</code></p>
<p>No props found.</p>
<pre><code class="language-typescript" data-lang="typescript">import useTheme from &quot;./useTheme&quot;;
import useColors from &quot;./useColors&quot;;
import useSpacings from &quot;./useSpacings&quot;;
export { useTheme, useColors, useSpacings };
</code></pre>
<hr />
<h4 class="c_head load-order-2">useColors</h4>
<p><strong>File:</strong> <code>useColors.tsx</code></p>
<p>No props found.</p>
<pre><code class="language-typescript" data-lang="typescript">import { useContext } from &quot;react&quot;;
import Context from &quot;../context&quot;;

function useTheme&lt;T&gt;() {
  const context = useContext(Context);

  if (!context) {
    throw new Error(&quot;useTheme must be used within a Context Provider&quot;);
  }

  return context.theme.root.colors as T;
}

export default useTheme;
</code></pre>
<hr />
<h4 class="c_head load-order-2">useSpacings</h4>
<p><strong>File:</strong> <code>useSpacings.tsx</code></p>
<p>No props found.</p>
<pre><code class="language-typescript" data-lang="typescript">import { useContext } from &quot;react&quot;;
import Context from &quot;../context&quot;;

function useSpacings&lt;T&gt;() {
  const context = useContext(Context);

  if (!context) {
    throw new Error(&quot;useSpacings must be used within a Context Provider&quot;);
  }

  return context.theme.root.spacings as T;
}

export default useSpacings;
</code></pre>
<hr />
<h4 class="c_head load-order-2">useTheme</h4>
<p><strong>File:</strong> <code>useTheme.tsx</code></p>
<p>No props found.</p>
<pre><code class="language-typescript" data-lang="typescript">import { useContext } from &quot;react&quot;;
import Context from &quot;../context&quot;;

function useTheme&lt;T&gt;(componentName: string): T | any {
  const context = useContext(Context);

  if (!context) {
    throw new Error(&quot;useTheme must be used within a Context Provider&quot;);
  }

  if (!context.theme) {
    throw new Error(
      `No theme found for component &quot;${componentName}&quot;. Make sure the component is wrapped in a ThemeProvider`,
    );
  }

  if (componentName) {
    return context.theme[componentName] as any;
  }

  return context.theme as T;
}

export default useTheme;
</code></pre>
<hr />
<h4 class="c_head load-order-2">index</h4>
<p><strong>File:</strong> <code>index.ts</code></p>
<p>No props found.</p>
<pre><code class="language-typescript" data-lang="typescript">import { Dimensions } from &quot;react-native&quot;;

export function getDeviceSize() {
  let { width } = Dimensions.get(&quot;screen&quot;);

  if (width &lt; 768) {
    return 1;
  } else if (width &lt; 1024) {
    return 2;
  } else if (width &lt; 1440) {
    return 3;
  } else {
    return 4;
  }
}
</code></pre>
<hr />
<h4 class="c_head load-order-2">types</h4>
<p><strong>File:</strong> <code>types.ts</code></p>
<p><strong>Props:</strong><ul><li>Breakpoints - xs: number</li><li>Breakpoints - md: number</li><li>Breakpoints - lg: number</li><li>Breakpoints - xl: number</li><li>IProviderStateType - theme?: object</li><li>IProviderStateType - deviceSize?: SizeEnum</li><li>IProviderStateType - orientation?: OrientationEnum</li><li>IProviderStateType - dimensions?: IDimensions</li><li>IDimensions - width: number</li><li>IDimensions - height: number</li></ul></p>
<pre><code class="language-typescript" data-lang="typescript">import { ReactNode } from &quot;react&quot;;
export interface PhaselisProviderProps&lt;T&gt; {
  children: ReactNode; // children prop&#039;u, ReactNode tipindedir
  breakpoints?: Breakpoints; // breakpoints opsiyonel, varsayılan bir değer atanabilir
  theme?: T; // theme, generic tipinde olabilir
}

export interface Breakpoints {
  xs: number;
  md: number;
  lg: number;
  xl: number;
}
export interface IProviderStateType {
  theme?: object;
  deviceSize?: SizeEnum;
  orientation?: OrientationEnum;
  dimensions?: IDimensions;
}

export interface IDimensions {
  width: number;
  height: number;
}

export enum PlatformEnum {
  Desktop = &quot;Desktop&quot;,
  Tablet = &quot;Tablet&quot;,
  Mobile = &quot;Mobile&quot;,
  TV = &quot;TV&quot;,
  default = &quot;&quot;,
}

export enum OrientationEnum {
  landscape = &quot;landscape&quot;,
  portrait = &quot;portrait&quot;,
}

export enum SizeEnum {
  xs = &quot;xs&quot;,
  md = &quot;md&quot;,
  lg = &quot;lg&quot;,
  xl = &quot;xl&quot;,
}
</code></pre>
<hr />
</div>
</article>
