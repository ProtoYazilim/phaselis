<article class="shortcode_text">
<div class="shortcode_title">
<a class="btn" href="#">Component</a>
<h1>Switch</h1>
<p>The <code>switch</code> component is a Phaselis React-Native component used for various UI functionalities. This documentation covers its usage, props, and implementation details.</p>
<h4 class="c_head load-order-2">index</h4>
<p><strong>File:</strong> <code>index.ts</code></p>
<p>No props found.</p>
<pre><code class="language-typescript" data-lang="typescript">import { createStyleSheet } from &quot;react-native-unistyles&quot;;

const stylesheet = createStyleSheet({
  container: {
    // STYLES
    flexDirection: &quot;row&quot;,
    alignItems: &quot;center&quot;,
    gap: 10,
    // VARIANTS
    variants: {
      outline: {
        true: {},
      },
      disabled: {
        true: {},
      },
      loading: {
        true: {},
      },
      size: {
        sm: {},
        md: {},
        lg: {},
      },
    },
  },
  element: {
    // VARIANTS
    variants: {
      outline: {
        true: {},
      },
      disabled: {
        true: {},
      },
      loading: {
        true: {},
      },
      size: {
        sm: {},
        md: {},
        lg: {},
      },
    },
  },
  track: {
    // STYLES
    alignItems: &quot;flex-start&quot;,
    height: 40,
    padding: 5,
    onColor: &quot;green&quot;,
    offColor: &quot;red&quot;,
    // VARIANTS
    variants: {
      outline: {
        true: {},
      },
      disabled: {
        true: {},
      },
      loading: {
        true: {},
      },
    },
  },
  thumb: {
    // STYLES
    height: &quot;100%&quot;,
    padding: 10,
    aspectRatio: 1,
    alignItems: &quot;center&quot;,
    justifyContent: &quot;center&quot;,
    onColor: &quot;green&quot;,
    offColor: &quot;red&quot;,
    // VARIANTS
    variants: {
      outline: {
        true: {},
      },
      disabled: {
        true: {},
      },
      loading: {
        true: {},
      },
    },
  },
  leftIcon: {
    position: &quot;absolute&quot;,
    left: 10,
    top: 10,
    color: &quot;red&quot;,
    variants: {
      disabled: {
        true: {},
      },
    },
  },
  rightIcon: {
    position: &quot;absolute&quot;,
    right: 10,
    top: 10,
    color: &quot;blue&quot;,
    variants: {
      disabled: {
        true: {},
      },
    },
  },
});

export default stylesheet;
</code></pre>
<hr />
<h4 class="c_head load-order-2">index</h4>
<p><strong>File:</strong> <code>index.tsx</code></p>
<p>No props found.</p>
<pre><code class="language-typescript" data-lang="typescript">import React, { useEffect } from &quot;react&quot;;
import { Pressable, View } from &quot;react-native&quot;;
import Animated, {
  interpolate,
  interpolateColor,
  useAnimatedStyle,
  useSharedValue,
  withTiming,
} from &quot;react-native-reanimated&quot;;
import { SwitchProps } from &quot;./types&quot;;
import { ConsumerHOC } from &quot;@/components/provider&quot;;
import { InputHOC } from &quot;@/components/utils&quot;;
import stylesheet from &quot;./assets/styles&quot;;
import LucideIcon from &quot;../lucide-icon&quot;;
import useCombinedStyle from &quot;@/hooks/useCombinedStyle&quot;;

const Switch = ({
  value = false,
  onChange,
  style,
  duration = 400,
  disabled,
  size = &quot;md&quot;,
  contextValue,
  showIcons,
  LeftSlot,
  RightSlot,
  ...extraProps
}: SwitchProps) =&gt; {
  const { getCombinedStyle, defaultStyles, themeStyles, propStyle } =
    useCombinedStyle(stylesheet, style, contextValue.theme.switch, {
      disabled,
      size,
      ...extraProps,
    });

  const height = useSharedValue(0);
  const width = useSharedValue(0);

  const animatedValue = useSharedValue(Number(value));

  useEffect(() =&gt; {
    animatedValue.value = Number(value);
  }, [value, animatedValue]);

  const trackAnimatedStyle = useAnimatedStyle(() =&gt; {
    const onColor =
      propStyle?.track?.onColor ||
      themeStyles?.track?.onColor ||
      defaultStyles?.track?.onColor;

    const offColor =
      propStyle?.track?.offColor ||
      themeStyles?.track?.offColor ||
      defaultStyles?.track?.offColor;

    const color = interpolateColor(
      animatedValue.value,
      [0, 1],
      [offColor, onColor],
    );
    const colorValue = withTiming(color, { duration });

    return {
      backgroundColor: colorValue,
      borderRadius: height.value / 2,
    };
  });

  const thumbAnimatedStyle = useAnimatedStyle(() =&gt; {
    const moveValue = interpolate(
      Number(animatedValue.value),
      [0, 1],
      [3, width.value - 3 - height.value],
    );
    const translateValue = withTiming(moveValue, { duration });

    const onColor =
      propStyle?.thumb?.onColor ||
      themeStyles?.thumb?.onColor ||
      defaultStyles?.thumb?.onColor;

    const offColor =
      propStyle?.thumb?.offColor ||
      themeStyles?.thumb?.offColor ||
      defaultStyles?.thumb?.offColor;

    const color = interpolateColor(
      animatedValue.value,
      [0, 1],
      [offColor, onColor],
    );

    const colorValue = withTiming(color, { duration });

    return {
      transform: [{ translateX: translateValue }],
      borderRadius: height.value / 2,
      backgroundColor: colorValue,
    };
  });

  const handlePress = () =&gt; {
    onChange?.(null, !value);
  };

  return (
    &lt;View style={getCombinedStyle(&quot;container&quot;)}&gt;
      {LeftSlot &amp;&amp; &lt;LeftSlot /&gt;}
      &lt;Pressable
        onPressIn={handlePress}
        focusable={true}
        style={getCombinedStyle(&quot;element&quot;)}
        disabled={disabled}
      &gt;
        &lt;Animated.View
          onLayout={(e) =&gt; {
            height.value = e.nativeEvent.layout.height;
            width.value = e.nativeEvent.layout.width;
          }}
          style={[...getCombinedStyle(&quot;track&quot;), trackAnimatedStyle]}
        &gt;
          {showIcons &amp;&amp; (
            &lt;&gt;
              &lt;LucideIcon
                name=&quot;Check&quot;
                size=&quot;lg&quot;
                style={getCombinedStyle(&quot;leftIcon&quot;)}
              /&gt;
              &lt;LucideIcon
                name=&quot;X&quot;
                size=&quot;lg&quot;
                style={getCombinedStyle(&quot;rightIcon&quot;)}
              /&gt;
            &lt;/&gt;
          )}
          &lt;Animated.View
            style={[...getCombinedStyle(&quot;thumb&quot;), thumbAnimatedStyle]}
          /&gt;
        &lt;/Animated.View&gt;
      &lt;/Pressable&gt;
      {RightSlot &amp;&amp; &lt;RightSlot /&gt;}
    &lt;/View&gt;
  );
};

export default InputHOC(ConsumerHOC&lt;SwitchProps, SwitchExtraProps&gt;(Switch));
</code></pre>
<hr />
<h4 class="c_head load-order-2">info</h4>
<p><strong>File:</strong> <code>info.json</code></p>
<p>No props found.</p>
<pre><code class="language-typescript" data-lang="typescript">{
  &quot;name&quot;: &quot;@protonative/switch&quot;,
  &quot;version&quot;: &quot;0.0.1&quot;,
  &quot;description&quot;: &quot;Proto Native Switch Button Component&quot;,
  &quot;keywords&quot;: &quot;@protonative,proto,component,switch&quot;,
  &quot;dependencies&quot;: {
    &quot;react-native-reanimated&quot;: &quot;^3.0.0&quot;
  }
}
</code></pre>
<hr />
<h4 class="c_head load-order-2">types</h4>
<p><strong>File:</strong> <code>types.ts</code></p>
<p><strong>Props:</strong><ul><li>SwitchProps - value?: boolean</li><li>SwitchProps - onChange?: (event: any, value: boolean) => void</li><li>SwitchProps - onPress?: () => void</li><li>SwitchProps - duration?: number</li><li>SwitchProps - style?: any</li><li>SwitchProps - size?: any</li><li>SwitchProps - name?: string</li><li>SwitchProps - showIcons?: boolean</li><li>SwitchProps - LeftSlot?: SlotChildComponent</li><li>SwitchProps - RightSlot?: SlotChildComponent</li></ul></p>
<pre><code class="language-typescript" data-lang="typescript">import { IFormPropTypes, SlotChildComponent } from &quot;@commontypes/base&quot;;

interface SwitchProps extends IFormPropTypes {
  value?: boolean;
  onChange?: (event: any, value: boolean) =&gt; void;
  onPress?: () =&gt; void;
  duration?: number;
  style?: any;
  size?: any;
  name?: string;
  showIcons?: boolean;
  LeftSlot?: SlotChildComponent;
  RightSlot?: SlotChildComponent;
}

export { SwitchProps };
</code></pre>
<hr />
</div>
</article>
