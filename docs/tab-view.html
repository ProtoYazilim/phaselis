<article class="shortcode_text">
<div class="shortcode_title">
<a class="btn" href="#">Component</a>
<h1>Tab-view</h1>
<p>The <code>tab-view</code> component is a Phaselis React-Native component used for various UI functionalities. This documentation covers its usage, props, and implementation details.</p>
<h4 class="c_head load-order-2">TabHeader</h4>
<p><strong>File:</strong> <code>TabHeader.tsx</code></p>
<p>No props found.</p>
<pre><code class="language-typescript" data-lang="typescript">import React, { useEffect, useRef, useState } from &quot;react&quot;;
import {
  View,
  ScrollView,
  NativeScrollEvent,
  NativeSyntheticEvent,
} from &quot;react-native&quot;;

import { ConsumerHOC } from &quot;@/components/provider&quot;;
import LucideIcon from &quot;../lucide-icon&quot;;
import { TabViewHeaderProps } from &quot;./types&quot;;
import TabHeaderItem from &quot;./TabHeaderItem&quot;;
import { tab_header_styles as stylesheet } from &quot;./assets/styles&quot;;
import useCombinedStyle from &quot;@/hooks/useCombinedStyle&quot;;

const elementComponents = {
  view: View,
  scrollView: ScrollView,
};

const TabViewHeader = ({
  value = false,
  onChange,
  style,
  duration = 400,
  size = &quot;md&quot;,
  showIcons,
  LeftSlot,
  RightSlot,
  contextValue,
  activeTab = 0,
  id = &quot;&quot;,
  data,
  handleOnPress,
  scrollable = false,
  ...extraProps
}: TabViewHeaderProps) =&gt; {
  const { getCombinedStyle } = useCombinedStyle(
    stylesheet,
    style,
    contextValue?.theme?.tab?.header,
    {
      scrollable,
      ...extraProps,
    },
  );

  const refLastScrollPosition = useRef&lt;number&gt;(0);
  const refScrollView = useRef&lt;ScrollView&gt;(null);
  const refScrollViewWidth = useRef&lt;number&gt;(0);

  const [showRightArrow, setShowRightArrow] = useState(true);
  const [showLeftArrow, setShowLeftArrow] = useState(false);
  const [itemWidths, setItemWidths] = useState&lt;number[]&gt;([]);
  const [scrollEnabled, setScrollEnabled] = useState&lt;boolean&gt;(scrollable);

  const handleScroll = (event: NativeSyntheticEvent&lt;NativeScrollEvent&gt;) =&gt; {
    const contentWidth = event.nativeEvent.contentSize.width;
    const scrollViewWidth = event.nativeEvent.layoutMeasurement.width;
    const scrollPosition = event.nativeEvent.contentOffset.x;
    setShowLeftArrow(scrollPosition &gt; 0);
    setShowRightArrow(scrollPosition &lt; contentWidth - scrollViewWidth);
    const currentX = event.nativeEvent.contentOffset.x;
    refLastScrollPosition.current = currentX;
  };

  useEffect(() =&gt; {
    const scrollToPosition = itemWidths
      .slice(0, activeTab)
      .reduce((acc, width) =&gt; acc + width, 0);
    refScrollView.current?.scrollTo?.({
      x: scrollToPosition,
      animated: true,
    });
  }, [activeTab, itemWidths, itemWidths.length]);

  const handleOnLayout = (event: any, index: number) =&gt; {
    const { width } = event.nativeEvent.layout;
    setItemWidths((prevWidths) =&gt; {
      const newWidths = [...prevWidths];
      newWidths[index] = width;
      return newWidths;
    });
    if (data.length === index + 1 &amp;&amp; scrollable) {
      const totalWidth = itemWidths.reduce((acc, width) =&gt; acc + width, 0);
      if (totalWidth &gt; refScrollViewWidth.current) {
        setScrollEnabled(true);
      } else {
        setScrollEnabled(false);
      }
    }
  };

  const ElementComponent = scrollable
    ? elementComponents.scrollView
    : elementComponents.view;

  const renderLeftScrollIcon = () =&gt; {
    if (showLeftArrow) {
      return (
        &lt;LucideIcon
          name=&quot;ChevronLeft&quot;
          onClick={() =&gt; {
            refScrollView.current?.scrollTo?.({
              x: refLastScrollPosition.current - 100,
              animated: true,
            });
          }}
        /&gt;
      );
    }
    return &lt;View style={{ width: 16 }} /&gt;;
  };

  const renderRightScrollIcon = () =&gt; {
    if (showRightArrow) {
      return (
        &lt;LucideIcon
          name=&quot;ChevronRight&quot;
          onClick={() =&gt; {
            refScrollView.current?.scrollTo?.({
              x: refLastScrollPosition.current + 100,
              animated: true,
            });
          }}
        /&gt;
      );
    }
    return &lt;View style={{ width: 16 }} /&gt;;
  };

  return (
    &lt;View style={getCombinedStyle(&quot;container&quot;)}&gt;
      {scrollEnabled &amp;&amp; renderLeftScrollIcon()}
      &lt;ElementComponent
        horizontal
        style={getCombinedStyle(&quot;element&quot;)}
        decelerationRate={&quot;fast&quot;}
        showsHorizontalScrollIndicator={false}
        ref={refScrollView}
        onScroll={handleScroll}
        scrollEnabled={scrollEnabled}
        onLayout={(event) =&gt; {
          const { width } = event.nativeEvent.layout;
          refScrollViewWidth.current = width;
        }}
        key={`${data.length}-${id}-tab-view`}
      &gt;
        {data.map((item, index) =&gt; {
          return (
            &lt;TabHeaderItem
              activeTabIndex={activeTab}
              handleOnPress={handleOnPress}
              handleOnLayout={handleOnLayout}
              item={item}
              index={index}
              key={index}
              scrollable={scrollEnabled}
            /&gt;
          );
        })}
      &lt;/ElementComponent&gt;
      {scrollEnabled &amp;&amp; renderRightScrollIcon()}
    &lt;/View&gt;
  );
};

export default ConsumerHOC&lt;TabViewHeaderProps, any&gt;(TabViewHeader);
</code></pre>
<hr />
<h4 class="c_head load-order-2">TabHeaderItem</h4>
<p><strong>File:</strong> <code>TabHeaderItem.tsx</code></p>
<p>No props found.</p>
<pre><code class="language-typescript" data-lang="typescript">import React, { useMemo } from &quot;react&quot;;
import { Pressable, Text } from &quot;react-native&quot;;

import { ConsumerHOC } from &quot;@/components/provider&quot;;
import { TabHeaderItemProps } from &quot;./types&quot;;
import Slot from &quot;../slot&quot;;
import { tab_header_item_styles as stylesheet } from &quot;./assets/styles&quot;;
import useCombinedStyle from &quot;@/hooks/useCombinedStyle&quot;;

const TabHeaderItem = ({
  activeTabIndex,
  index,
  item,
  handleOnLayout,
  handleOnPress,
  RightSlot,
  LeftSlot,
  leftIcon,
  rightIcon,
  scrollable,
  style,
  contextValue,
  ...extraProps
}: TabHeaderItemProps) =&gt; {
  const active = useMemo(
    () =&gt; activeTabIndex === index,
    [activeTabIndex, index],
  );

  const { getCombinedStyle } = useCombinedStyle(
    stylesheet,
    style,
    contextValue?.theme?.tab?.headerItem,
    {
      scrollable,
      active,
      ...extraProps,
    },
  );

  return (
    &lt;Pressable
      key={index}
      style={getCombinedStyle(&quot;container&quot;)}
      onLayout={(event) =&gt; handleOnLayout?.(event, index)}
      onPress={() =&gt; {
        handleOnPress(index);
      }}
    &gt;
      &lt;Slot style={getCombinedStyle(&quot;leftSlot&quot;)} icon={leftIcon}&gt;
        {LeftSlot &amp;&amp; &lt;LeftSlot /&gt;}
      &lt;/Slot&gt;
      &lt;Text style={getCombinedStyle(&quot;text&quot;)}&gt;{item.text}&lt;/Text&gt;
      &lt;Slot style={getCombinedStyle(&quot;rightSlot&quot;)} icon={rightIcon}&gt;
        {RightSlot &amp;&amp; &lt;RightSlot /&gt;}
      &lt;/Slot&gt;
    &lt;/Pressable&gt;
  );
};

export default ConsumerHOC&lt;TabHeaderItemProps, any&gt;(TabHeaderItem);
</code></pre>
<hr />
<h4 class="c_head load-order-2">TabItem</h4>
<p><strong>File:</strong> <code>TabItem.tsx</code></p>
<p>No props found.</p>
<pre><code class="language-typescript" data-lang="typescript">import { ConsumerHOC } from &quot;@/components/provider&quot;;
import { View } from &quot;react-native&quot;;
import { TabItemProps } from &quot;./types&quot;;
import { tab_item_styles as stylesheet } from &quot;./assets/styles&quot;;
import useCombinedStyle from &quot;@/hooks/useCombinedStyle&quot;;

const TabItem = ({
  children,
  contextValue,
  style,
  ...extraProps
}: TabItemProps) =&gt; {
  const { getCombinedStyle } = useCombinedStyle(
    stylesheet,
    style,
    contextValue?.theme?.tab?.tabItem,
    {
      ...extraProps,
    },
  );

  return &lt;View style={getCombinedStyle(&quot;container&quot;)}&gt;{children}&lt;/View&gt;;
};

TabItem.displayName = &quot;TABITEM&quot;;

export default ConsumerHOC&lt;any, any&gt;(TabItem);
</code></pre>
<hr />
<h4 class="c_head load-order-2">TabView</h4>
<p><strong>File:</strong> <code>TabView.tsx</code></p>
<p>No props found.</p>
<pre><code class="language-typescript" data-lang="typescript">import React, { useMemo, useState } from &quot;react&quot;;
import { View } from &quot;react-native&quot;;

import { ConsumerHOC } from &quot;@/components/provider&quot;;
import { TabViewProps } from &quot;./types&quot;;
import TabHeader from &quot;./TabHeader&quot;;
import { tab_view_styles as stylesheet } from &quot;./assets/styles&quot;;
import useCombinedStyle from &quot;@/hooks/useCombinedStyle&quot;;

const TabView = ({
  children,
  headerProps,
  activeTab,
  scrollable,
  contextValue,
  style,
  ...extraProps
}: TabViewProps) =&gt; {
  const [activeTabIndex, setActiveTabIndex] = useState(activeTab);

  const data = useMemo(() =&gt; {
    return children?.map((item: any, index: any) =&gt; {
      return {
        text: item.props.title,
      };
    });
  }, [children]);

  const handleOnPress = (index: number) =&gt; {
    setActiveTabIndex(index);
  };

  const { getCombinedStyle } = useCombinedStyle(
    stylesheet,
    style,
    contextValue?.theme?.tab?.view,
    {
      ...extraProps,
    },
  );

  return (
    &lt;View style={getCombinedStyle(&quot;container&quot;)}&gt;
      &lt;TabHeader
        data={data}
        activeTab={activeTabIndex}
        handleOnPress={handleOnPress}
        scrollable={scrollable}
        {...headerProps}
      /&gt;
      &lt;View style={getCombinedStyle(&quot;element&quot;)}&gt;
        {React.Children.map(children, (child, index) =&gt; {
          if (child &amp;&amp; child.type &amp;&amp; child.type.displayName === &quot;TABITEM&quot;) {
            if (activeTabIndex === index) {
              return child.props.children;
            }
          }
        })}
      &lt;/View&gt;
    &lt;/View&gt;
  );
};

export default ConsumerHOC&lt;TabViewProps&gt;(TabView);
</code></pre>
<hr />
<h4 class="c_head load-order-2">index</h4>
<p><strong>File:</strong> <code>index.ts</code></p>
<p>No props found.</p>
<pre><code class="language-typescript" data-lang="typescript">import tab_view_styles from &quot;./tab_view_styles&quot;;
import tab_item_styles from &quot;./tab_item_styles&quot;;
import tab_header_styles from &quot;./tab_header_styles&quot;;
import tab_header_item_styles from &quot;./tab_header_item_styles&quot;;
export {
  tab_view_styles,
  tab_item_styles,
  tab_header_styles,
  tab_header_item_styles,
};
</code></pre>
<hr />
<h4 class="c_head load-order-2">tab_header_item_styles</h4>
<p><strong>File:</strong> <code>tab_header_item_styles.tsx</code></p>
<p>No props found.</p>
<pre><code class="language-typescript" data-lang="typescript">import { createStyleSheet } from &quot;react-native-unistyles&quot;;

const tab_header_item_styles = createStyleSheet({
  container: {
    // STYLES
    flex: 1,
    alignItems: &quot;center&quot;,
    justifyContent: &quot;center&quot;,
    borderBottomWidth: 2,
    // height: 32,
    flexDirection: &quot;row&quot;,
    gap: 8,
    // VARIANTS
    variants: {
      scrollable: {
        true: {
          minWidth: 100,
        },
        false: {
          minWidth: &quot;auto&quot;,
        },
      },
      active: {
        true: {
          borderBottomColor: &quot;#2A91FF&quot;,
        },
        false: {
          borderBottomColor: &quot;transparent&quot;,
        },
      },
    },
  },
  element: {
    // VARIANTS
    variants: {
      scrollable: {
        true: {
          width: &quot;100%&quot;,
          flexWrap: &quot;wrap&quot;,
          flexDirection: &quot;row&quot;,
        },
        false: {
          flexWrap: &quot;wrap&quot;,
          flexDirection: &quot;row&quot;,
          justifyContent: &quot;center&quot;,
          flex: 1,
        },
      },
      active: {},
    },
  },
  text: {},
  leftSlot: {
    variants: {
      scrollable: {},
      active: {},
    },
  },
  rightSlot: {
    variants: {
      scrollable: {},
      active: {},
    },
  },
});
export default tab_header_item_styles;
</code></pre>
<hr />
<h4 class="c_head load-order-2">tab_header_styles</h4>
<p><strong>File:</strong> <code>tab_header_styles.tsx</code></p>
<p>No props found.</p>
<pre><code class="language-typescript" data-lang="typescript">import { createStyleSheet } from &quot;react-native-unistyles&quot;;

const tab_header_styles = createStyleSheet({
  container: {
    // STYLES
    flexDirection: &quot;row&quot;,
    alignItems: &quot;center&quot;,
    width: &quot;100%&quot;,
    justifyContent: &quot;flex-start&quot;,
    // VARIANTS
    variants: {},
  },
  element: {
    flexWrap: &quot;wrap&quot;,
    flexDirection: &quot;row&quot;,
    // VARIANTS
    variants: {
      scrollable: {
        true: {
          width: &quot;100%&quot;,
        },
        false: {
          justifyContent: &quot;center&quot;,
          flex: 1,
        },
      },
    },
  },
});

export default tab_header_styles;
</code></pre>
<hr />
<h4 class="c_head load-order-2">tab_item_styles</h4>
<p><strong>File:</strong> <code>tab_item_styles.tsx</code></p>
<p>No props found.</p>
<pre><code class="language-typescript" data-lang="typescript">import { createStyleSheet } from &quot;react-native-unistyles&quot;;

const tab_item_styles = createStyleSheet({
  container: {
    variants: {
      outline: {
        true: {},
      },
      disabled: {
        true: {},
      },
      loading: {
        true: {},
      },
      size: {
        sm: {},
        md: {},
        lg: {},
      },
    },
  },
});

export default tab_item_styles;
</code></pre>
<hr />
<h4 class="c_head load-order-2">tab_view_styles</h4>
<p><strong>File:</strong> <code>tab_view_styles.tsx</code></p>
<p>No props found.</p>
<pre><code class="language-typescript" data-lang="typescript">import { createStyleSheet } from &quot;react-native-unistyles&quot;;

const tab_view_styles = createStyleSheet({
  container: {
    // STYLES
    width: &quot;100%&quot;,
    flex: 1,
    // VARIANTS
    variants: {},
  },
  element: {
    minHeight: 200,
    variants: {},
  },
});

export default tab_view_styles;
</code></pre>
<hr />
<h4 class="c_head load-order-2">test</h4>
<p><strong>File:</strong> <code>test.tsx</code></p>
<p>No props found.</p>
<pre><code class="language-typescript" data-lang="typescript">import { createStyleSheet } from &quot;react-native-unistyles&quot;;

const stylesheet = createStyleSheet({
  container: {
    // STYLES
    flexDirection: &quot;row&quot;,
    alignItems: &quot;center&quot;,
    gap: 10,
    // VARIANTS
    variants: {
      outline: {
        true: {},
      },
      disabled: {
        true: {},
      },
      loading: {
        true: {},
      },
      size: {
        sm: {},
        md: {},
        lg: {},
      },
    },
  },
  element: {
    // VARIANTS
    variants: {
      outline: {
        true: {},
      },
      disabled: {
        true: {},
      },
      loading: {
        true: {},
      },
      size: {
        sm: {},
        md: {},
        lg: {},
      },
    },
  },
  track: {
    // STYLES
    alignItems: &quot;flex-start&quot;,
    height: 40,
    padding: 5,
    onColor: &quot;green&quot;,
    offColor: &quot;red&quot;,
    // VARIANTS
    variants: {
      outline: {
        true: {},
      },
      disabled: {
        true: {},
      },
      loading: {
        true: {},
      },
    },
  },
  thumb: {
    // STYLES
    height: &quot;100%&quot;,
    padding: 10,
    aspectRatio: 1,
    alignItems: &quot;center&quot;,
    justifyContent: &quot;center&quot;,
    onColor: &quot;green&quot;,
    offColor: &quot;red&quot;,
    // VARIANTS
    variants: {
      outline: {
        true: {},
      },
      disabled: {
        true: {},
      },
      loading: {
        true: {},
      },
    },
  },
  leftIcon: {
    position: &quot;absolute&quot;,
    left: 10,
    top: 10,
    color: &quot;red&quot;,
    variants: {
      disabled: {
        true: {},
      },
    },
  },
  rightIcon: {
    position: &quot;absolute&quot;,
    right: 10,
    top: 10,
    color: &quot;blue&quot;,
    variants: {
      disabled: {
        true: {},
      },
    },
  },
});

export default stylesheet;
</code></pre>
<hr />
<h4 class="c_head load-order-2">index</h4>
<p><strong>File:</strong> <code>index.tsx</code></p>
<p>No props found.</p>
<pre><code class="language-typescript" data-lang="typescript">import TabHeader from &quot;./TabHeader&quot;;
import TabHeaderItem from &quot;./TabHeaderItem&quot;;
import TabView from &quot;./TabView&quot;;
import TabItem from &quot;./TabItem&quot;;

export default TabView;
export { TabHeader, TabHeaderItem, TabItem };
</code></pre>
<hr />
<h4 class="c_head load-order-2">info</h4>
<p><strong>File:</strong> <code>info.json</code></p>
<p>No props found.</p>
<pre><code class="language-typescript" data-lang="typescript">{
  &quot;name&quot;: &quot;@protonative/switch&quot;,
  &quot;version&quot;: &quot;0.0.1&quot;,
  &quot;description&quot;: &quot;Proto Native Switch Button Component&quot;,
  &quot;keywords&quot;: &quot;@protonative,proto,component,switch&quot;,
  &quot;dependencies&quot;: {
    &quot;react-native-reanimated&quot;: &quot;^3.0.0&quot;
  }
}
</code></pre>
<hr />
<h4 class="c_head load-order-2">types</h4>
<p><strong>File:</strong> <code>types.ts</code></p>
<p><strong>Props:</strong><ul><li>TabViewHeaderProps - value?: boolean</li><li>TabViewHeaderProps - onChange?: (event: any, value: boolean) => void</li><li>TabViewHeaderProps - onPress?: () => void</li><li>TabViewHeaderProps - duration?: number</li><li>TabViewHeaderProps - style?: any</li><li>TabViewHeaderProps - size?: any</li><li>TabViewHeaderProps - name?: string</li><li>TabViewHeaderProps - showIcons?: boolean</li><li>TabViewHeaderProps - LeftSlot?: SlotChildComponent</li><li>TabViewHeaderProps - RightSlot?: SlotChildComponent</li><li>TabViewHeaderProps - contextValue?: any</li><li>TabViewHeaderProps - data: any[]</li><li>TabViewHeaderProps - activeTab: number</li><li>TabViewHeaderProps - id: string | number</li><li>TabViewHeaderProps - scrollable?: boolean</li><li>TabViewHeaderProps - handleOnPress: (index: number) => void</li><li>TabHeaderItemProps - activeTabIndex: number</li><li>TabHeaderItemProps - index: number</li><li>TabHeaderItemProps - item: any</li><li>TabHeaderItemProps - handleOnLayout?: (event: any, index: number) => void</li><li>TabHeaderItemProps - handleOnPress: (index: number) => void</li><li>TabHeaderItemProps - scrollable?: boolean</li><li>TabHeaderItemProps - style?: any</li><li>TabHeaderItemProps - contextValue?: any</li><li>TabViewProps - children: any | any[]</li><li>TabViewProps - headerProps?: TabViewHeaderProps</li><li>TabViewProps - activeTab?: number</li><li>TabViewProps - scrollable?: boolean</li><li>TabViewProps - contextValue?: any</li><li>TabViewProps - style?: {
    container?: ViewStyle</li><li>TabViewProps - element?: ViewStyle</li><li>TabItemProps - children: any</li><li>TabItemProps - contextValue?: any</li><li>TabItemProps - style?: {
    container?: ViewStyle</li></ul></p>
<pre><code class="language-typescript" data-lang="typescript">import { SlotableLeftRightProps, SlotChildComponent } from &quot;@commontypes/base&quot;;
import React from &quot;react&quot;;
import { ViewStyle } from &quot;react-native&quot;;

interface TabViewHeaderProps extends SlotableLeftRightProps {
  value?: boolean;
  onChange?: (event: any, value: boolean) =&gt; void;
  onPress?: () =&gt; void;
  duration?: number;
  style?: any;
  size?: any;
  name?: string;
  showIcons?: boolean;
  LeftSlot?: SlotChildComponent;
  RightSlot?: SlotChildComponent;
  contextValue?: any;
  data: any[];
  activeTab: number;
  id: string | number;
  scrollable?: boolean;
  handleOnPress: (index: number) =&gt; void;
}

interface TabHeaderItemProps extends SlotableLeftRightProps {
  activeTabIndex: number;
  index: number;
  item: any;
  handleOnLayout?: (event: any, index: number) =&gt; void;
  handleOnPress: (index: number) =&gt; void;
  scrollable?: boolean;
  style?: any;
  contextValue?: any;
}

interface TabViewProps {
  children: any | any[];
  headerProps?: TabViewHeaderProps;
  activeTab?: number;
  scrollable?: boolean;
  contextValue?: any;
  style?: {
    container?: ViewStyle;
    element?: ViewStyle;
  };
}

interface TabItemProps {
  children: any;
  contextValue?: any;
  style?: {
    container?: ViewStyle;
  };
}

export { TabViewHeaderProps, TabHeaderItemProps, TabViewProps, TabItemProps };
</code></pre>
<hr />
</div>
</article>
