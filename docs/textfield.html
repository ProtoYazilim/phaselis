<article class="shortcode_text">
<div class="shortcode_title">
<a class="btn" href="#">Component</a>
<h1>Textfield</h1>
<p>The <code>textfield</code> component is a Phaselis React-Native component used for various UI functionalities. This documentation covers its usage, props, and implementation details.</p>
<h4 class="c_head load-order-2">styles</h4>
<p><strong>File:</strong> <code>styles.tsx</code></p>
<p>No props found.</p>
<pre><code class="language-typescript" data-lang="typescript">import { createStyleSheet } from &quot;react-native-unistyles&quot;;

const stylesheet = createStyleSheet({
  container: {
    flexDirection: &quot;row&quot;,
    justifyContent: &quot;flex-start&quot;,
    alignItems: &quot;center&quot;,
    borderWidth: 1,
    borderColor: &quot;#979797&quot;,
    borderRadius: 6,
    width: &quot;100%&quot;,
    variants: {
      disabled: {
        true: {
          opacity: 0.51,
        },
      },
      focus: {
        true: {
          borderColor: &quot;blue&quot;,
        },
      },
      error: {
        true: {
          borderColor: &quot;red&quot;,
        },
      },
      size: {
        xs: {
          height: 24,
        },
        sm: {
          height: 36,
        },
        md: {
          height: 48,
        },
        lg: {
          height: 56,
        },
        xl: {
          height: 64,
        },
        xxl: {
          height: 72,
        },
      },
      textarea: {
        true: {
          justifyContent: &quot;flex-start&quot;,
          height: 64,
        },
      },
    },
  },
  element: {
    flex: 1,
    variants: {
      error: {},
      disabled: {},
      focus: {},
      textarea: {
        true: {
          height: &quot;100%&quot;,
        },
      },
      size: {
        xs: {},
        sm: {},
        md: {},
        lg: {},
        xl: {},
        xxl: {},
      },
    },
  },
  leftSlot: {
    flex: 1,
    variants: {
      error: {},
      disabled: {},
      focus: {},
      textarea: {
        true: {
          alignSelf: &quot;flex-start&quot;,
        },
      },
    },
  },
  rightSlot: {
    flex: 1,
    variants: {
      error: {},
      disabled: {},
      focus: {},
      textarea: {
        true: {
          alignSelf: &quot;flex-start&quot;,
        },
      },
    },
  },
});

export default stylesheet;
</code></pre>
<hr />
<h4 class="c_head load-order-2">index</h4>
<p><strong>File:</strong> <code>index.tsx</code></p>
<p>No props found.</p>
<pre><code class="language-typescript" data-lang="typescript">import React, { useState, useRef, useMemo } from &quot;react&quot;;
import {
  NativeSyntheticEvent,
  Platform,
  TextInput,
  TextInputChangeEventData,
  TextInputFocusEventData,
  TextInputKeyPressEventData,
  View,
} from &quot;react-native&quot;;
//@ts-ignore
import { InputHOC, validateText } from &quot;@protonative/utils&quot;;
import stylesheet from &quot;./assets/styles&quot;;

import { ConsumerHOC } from &quot;@protonative/provider&quot;;
import { TextFieldProps } from &quot;./types&quot;;
import Slot from &quot;../slot&quot;;
import { useMaskedInputProps } from &quot;react-native-mask-input&quot;;
import useCombinedStyle from &quot;@/hooks/useCombinedStyle&quot;;

export enum EnumKeyboardType {
  Default = &quot;default&quot;,
  Text = &quot;text&quot;,
  Number = &quot;number&quot;,
  Email = &quot;email&quot;,
  Phone = &quot;phone&quot;,
  Password = &quot;password&quot;,
}

const TextField: React.FC&lt;TextFieldProps&gt; = ({
  error,
  autoFocus,
  onChange,
  onBlur,
  onFocus,
  validator,
  disabled,
  contextValue,
  style,
  readOnly = false,
  type = EnumKeyboardType.Default,
  isCapsLockOn,
  LeftSlot,
  RightSlot,
  id,
  loading,
  loadingIcon,
  uppercase = false,
  size = &quot;md&quot;,
  isChanged,
  isUsed,
  leftIcon,
  rightIcon,
  value,
  mask,
  numberOfLines = 4,
  textarea,
  ...extraProps
}) =&gt; {
  const [isFocus, setIsFocus] = useState(autoFocus);
  const inputRef = useRef&lt;TextInput&gt;(null);

  const showError = useMemo(() =&gt; {
    return isChanged &amp;&amp; isUsed &amp;&amp; error ? true : false;
  }, [error, isUsed, isChanged]);

  const platforms = {
    ios: &quot;ios&quot;,
    android: &quot;android&quot;,
  };

  const getEventHandlers = () =&gt; {
    return {
      onChange: onChangeHandler,
      onBlur: Platform.OS === platforms.ios ? onBlurHandler : () =&gt; {},
      onEndEditing:
        Platform.OS === platforms.android ? onBlurHandler : () =&gt; {},
      onFocus: onFocusHandler,
    };
  };

  const onChangeHandler = (
    e: NativeSyntheticEvent&lt;TextInputChangeEventData&gt;,
  ) =&gt; {
    if (onChange) {
      onChange(e, e.nativeEvent.text);
    }
  };

  const onBlurHandler = (e: NativeSyntheticEvent&lt;TextInputFocusEventData&gt;) =&gt; {
    setIsFocus(false);
    if (onBlur) {
      onBlur(e, e.nativeEvent.text);
    }
  };

  const onFocusHandler = (
    event: NativeSyntheticEvent&lt;TextInputFocusEventData&gt;,
  ) =&gt; {
    setIsFocus(true);
    if (onFocus) {
      onFocus(event as any);
    }
  };

  const getValidationEventHandlers = () =&gt; {
    return {
      onChange: onValidChange,
      onKeyPress: onValidKeyPress,
      onBlur: Platform.OS === platforms.ios ? onValidBlur : () =&gt; {},
      onEndEditing: Platform.OS === platforms.android ? onValidBlur : () =&gt; {},
      onFocus: onValidFocus,
    };
  };

  const onValidKeyPress = (
    e: NativeSyntheticEvent&lt;TextInputKeyPressEventData&gt;,
  ) =&gt; {
    if (!validateText(e.nativeEvent.key, validator)) {
      e.preventDefault();
    }
  };

  const onValidChange = (e: NativeSyntheticEvent&lt;TextInputChangeEventData&gt;) =&gt; {
    if (
      validateText(e.nativeEvent.text, validator) ||
      e.nativeEvent.text === &quot;&quot;
    ) {
      if (onChange) {
        onChange(e, e.nativeEvent.text);
      }
    } else {
      e.preventDefault();
    }
  };

  const onValidBlur = (
    e: NativeSyntheticEvent&lt;TextInputFocusEventData&gt;,
  ): void =&gt; {
    setIsFocus(false);

    if (onBlur) {
      onBlur(e, e.nativeEvent.text);
    }
  };

  const onValidFocus = (
    event: NativeSyntheticEvent&lt;TextInputFocusEventData&gt;,
  ) =&gt; {
    setIsFocus(true);
    if (onFocus) {
      onFocus(event as any);
    }
  };

  const getKeyboardType = (type: EnumKeyboardType) =&gt; {
    switch (type) {
      case EnumKeyboardType.Text:
        return &quot;default&quot;;
      case EnumKeyboardType.Number:
        return &quot;number-pad&quot;;
      case EnumKeyboardType.Email:
        return &quot;email-address&quot;;
      case EnumKeyboardType.Phone:
        return &quot;phone-pad&quot;;
      case EnumKeyboardType.Password:
        return &quot;default&quot;;
      default:
        return type;
    }
  };

  const editable = !(disabled || readOnly);
  const keyboardType = type
    ? getKeyboardType(type as EnumKeyboardType)
    : &quot;default&quot;;

  let inputProps = {
    ...getEventHandlers(),
    editable,
    keyboardType,
  };

  if (validator || isCapsLockOn) {
    inputProps = {
      ...getValidationEventHandlers(),
      editable,
      keyboardType,
    };
  }

  const { getCombinedStyle } = useCombinedStyle(
    stylesheet,
    style,
    contextValue?.theme?.textfield,
    {
      error: showError,
      disabled,
      focus: isFocus,
      size,
      textarea,
      ...extraProps,
    },
  );

  const maskedInputProps = useMaskedInputProps({
    value: value,
    onChangeText: onChange,
    mask: mask,
  });

  const extraPropsMasked = mask ? maskedInputProps : {};

  return (
    &lt;View style={getCombinedStyle(&quot;container&quot;)}&gt;
      &lt;Slot
        style={getCombinedStyle(&quot;leftSlot&quot;)}
        icon={leftIcon as any}
        size={size}
      &gt;
        {LeftSlot &amp;&amp; &lt;LeftSlot /&gt;}
      &lt;/Slot&gt;
      {/*@ts-ignore*/}
      &lt;TextInput
        ref={inputRef}
        testID={Platform.OS === platforms.ios ? id : undefined}
        accessibilityLabel={Platform.OS === platforms.android ? id : undefined}
        style={getCombinedStyle(&quot;element&quot;)}
        underlineColorAndroid=&quot;rgba(0,0,0,0)&quot;
        autoCorrect={false}
        secureTextEntry={type === EnumKeyboardType.Password ? true : false}
        placeholderTextColor={contextValue?.theme?.colors?.Gray[300]}
        multiline={textarea}
        numberOfLines={5}
        value={value}
        {...inputProps}
        {...extraProps}
        {...extraPropsMasked}
      /&gt;
      &lt;Slot
        style={getCombinedStyle(&quot;rightSlot&quot;)}
        icon={rightIcon as any}
        size={size}
      &gt;
        {RightSlot &amp;&amp; &lt;RightSlot /&gt;}
      &lt;/Slot&gt;
      {(loading &amp;&amp; loadingIcon) || null}
    &lt;/View&gt;
  );
};

// @ts-ignore
export default InputHOC&lt;TextFieldProps, TextfieldExtraProps&gt;(
  ConsumerHOC(TextField),
);
</code></pre>
<hr />
<h4 class="c_head load-order-2">info</h4>
<p><strong>File:</strong> <code>info.json</code></p>
<p>No props found.</p>
<pre><code class="language-typescript" data-lang="typescript">{
  &quot;name&quot;: &quot;@protonative/textfield&quot;,
  &quot;version&quot;: &quot;0.0.3&quot;,
  &quot;description&quot;: &quot;Proto Native TextField Component&quot;,
  &quot;keywords&quot;: &quot;@protonative,proto,component,textfield&quot;
}
</code></pre>
<hr />
<h4 class="c_head load-order-2">types</h4>
<p><strong>File:</strong> <code>types.ts</code></p>
<p><strong>Props:</strong><ul><li>ITextFieldStyleType - leftSlot?: ViewStyle</li><li>ITextFieldStyleType - rightSlot?: ViewStyle</li><li>ITextFieldStateType - focused?: boolean</li></ul></p>
<pre><code class="language-typescript" data-lang="typescript">import {
  NativeSyntheticEvent,
  TextInputFocusEventData,
  ViewStyle,
} from &quot;react-native&quot;;
import {
  IBaseStyleType,
  IFormPropTypes,
  SlotableLeftRightProps,
  SlotIconName,
} from &quot;@commontypes/base&quot;;
import { ReactNode, KeyboardEvent, MouseEvent } from &quot;react&quot;;
import { Mask } from &quot;react-native-mask-input&quot;;

export interface TextFieldProps extends IFormPropTypes, SlotableLeftRightProps {
  placeholder?: string;
  readOnly?: boolean;
  validator?: any;
  isCapsLockOn?: boolean;
  style?: ITextFieldStyleType;
  loadingIcon?: ReactNode;
  loading?: boolean;
  uppercase?: boolean;
  onKeyUp?: (event: KeyboardEvent&lt;HTMLInputElement&gt;) =&gt; void;
  onKeyDown?: (event: KeyboardEvent&lt;HTMLInputElement&gt;) =&gt; void;
  onClick?: (event: MouseEvent&lt;HTMLInputElement&gt;) =&gt; void;
  onCapsLockChange?: (event: any) =&gt; void;
  maxLength?: number;
  type?: EnumKeyboardType;
  autoFocus?: boolean;
  secureTextEntry?: boolean;
  onFocus?: (event: NativeSyntheticEvent&lt;TextInputFocusEventData&gt;) =&gt; void;
  autoComplete?: AutoCompleteValue;
  clearIndicator?: any;
  clearable?: boolean;
  size?: &quot;xs&quot; | &quot;sm&quot; | &quot;md&quot; | &quot;lg&quot; | &quot;xl&quot; | &quot;xxl&quot;;
  mask?: Mask;
  numberOfLines?: number;
  textarea?: boolean;
}

export interface ITextFieldStyleType extends IBaseStyleType {
  leftSlot?: ViewStyle;
  rightSlot?: ViewStyle;
}

export interface ITextFieldStateType {
  focused?: boolean;
}
export enum EnumKeyboardType {
  Default = &quot;default&quot;,
  Text = &quot;text&quot;,
  Number = &quot;number&quot;,
  Email = &quot;email&quot;,
  Phone = &quot;phone&quot;,
  Password = &quot;password&quot;,
}

type AutoCompleteValue =
  | &quot;on&quot;
  | &quot;off&quot;
  | &quot;name&quot;
  | &quot;honorific-prefix&quot;
  | &quot;given-name&quot;
  | &quot;additional-name&quot;
  | &quot;family-name&quot;
  | &quot;honorific-suffix&quot;
  | &quot;nickname&quot;
  | &quot;username&quot;
  | &quot;new-password&quot;
  | &quot;current-password&quot;
  | &quot;one-time-code&quot;
  | &quot;organization-title&quot;
  | &quot;organization&quot;
  | &quot;street-address&quot;
  | &quot;address-line1&quot;
  | &quot;address-line2&quot;
  | &quot;address-line3&quot;
  | &quot;address-level4&quot;
  | &quot;address-level3&quot;
  | &quot;address-level2&quot;
  | &quot;address-level1&quot;
  | &quot;country&quot;
  | &quot;country-name&quot;
  | &quot;postal-code&quot;
  | &quot;cc-name&quot;
  | &quot;cc-given-name&quot;
  | &quot;cc-additional-name&quot;
  | &quot;cc-family-name&quot;
  | &quot;cc-number&quot;
  | &quot;cc-exp&quot;
  | &quot;cc-exp-month&quot;
  | &quot;cc-exp-year&quot;
  | &quot;cc-csc&quot;
  | &quot;cc-type&quot;
  | &quot;transaction-currency&quot;
  | &quot;transaction-amount&quot;
  | &quot;language&quot;
  | &quot;bday&quot;
  | &quot;bday-day&quot;
  | &quot;bday-month&quot;
  | &quot;bday-year&quot;
  | &quot;sex&quot;
  | &quot;url&quot;
  | &quot;photo&quot;;
</code></pre>
<hr />
</div>
</article>
